<nav class="navbar navbar-expand-md navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="#">
            <img src="assets/images/logo.PNG" class="img-logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" [routerLink]="['/']">Home</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" [routerLink]="['/admin']" *ngIf="username">Admin</a>
            </li>
        </ul>
        <form class="form-inline mt-2 mt-md-0">
            <button class="btn btn-outline-primary my-2 my-sm-0 mr-2" type="button" data-toggle="modal" data-target="#loginModal" *ngIf="!username">Log in</button>
            <button class="btn btn-primary my-2 my-sm-0 mr-2" type="button" *ngIf="username" (click)="logout()">Logout</button>
        </form>
        </div>
    </div>
</nav>

<div class="modal fade" id="loginModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Login</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form [formGroup]="loginForm">
                <fieldset>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-2 text-right">Username <span class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <input 
                                type="text" 
                                class="form-control" 
                                formControlName="username"
                                [ngClass]="{ 'is-invalid': isNextForm && f.username.errors }"
                                placeholder="username"
                            >
                            <div class="invalid-feedback" *ngIf="isNextForm && f.username.errors">
                                <div *ngIf="f.username.errors.required">Please fill in required fields.</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-2 text-right">Password <span class="text-danger">*</span></label>
                        <div class="col-sm-10">
                            <input 
                                type="password" 
                                class="form-control" 
                                formControlName="password"
                                [ngClass]="{ 'is-invalid': isNextForm && f.password.errors }"
                                placeholder="password"
                            >
                            <div class="invalid-feedback" *ngIf="isNextForm && f.password.errors">
                                <div *ngIf="f.password.errors.required">Please fill in required fields.</div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="login()">Login</button>
          <button type="button" class="btn btn-secondary btn-close-login" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>